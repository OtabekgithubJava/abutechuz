<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<app-header></app-header>

<div class="videos-container" [ngClass]="{'light-theme': isLightTheme}">
  <div class="theme-switcher">
    <i
      [class]="isLightTheme ? 'fas fa-moon' : 'fas fa-sun'"
      (click)="toggleTheme()"
      class="theme-icon"
    ></i>
  </div>

  <div class="search-bar">
    <input
      type="text"
      placeholder="Search videos..."
      (input)="searchVideos($event)"
    />
  </div>

  <div class="filter-buttons">
    <button (click)="filterVideos('All')" class="filter-button">All</button>
    <button (click)="filterVideos('C#')" class="filter-button">C#</button>
    <button (click)="filterVideos('C++')" class="filter-button">C++</button>
  </div>

  <div class="video-grid">
    <div *ngFor="let video of filteredVideos" class="video-card">
      <iframe
        width="100%"
        height="200"
        [src]="getSafeUrl(video.id)"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      ></iframe>
      <h3 [ngClass]="{'light-title': isLightTheme, 'dark-title': !isLightTheme}">
        {{ video.title }}
      </h3>
    </div>
  </div>
</div>